---
import BaseLayout from '../../layouts/BaseLayout.astro';
import projectsData from '../../data/projects.json';
---

<BaseLayout
  title="Projects"
  description="Engineering and software projects by Anish Zute â€” racecars, embedded systems, and more."
>
  <div class="page-header">
    <h1>Projects</h1>
    <p>Engineering, software, and everything in between.</p>
  </div>

  <div class="projects-grid">
    {projectsData.map(project => (
      <a href={`/projects/${project.slug}`} class="project-card">
        {project.images.length > 0 && (
          <div class="card-image">
            <img
              src={project.images[0]}
              alt={project.title}
              loading="lazy"
              decoding="async"
              width="480"
              height="270"
            />
          </div>
        )}
        <div class="card-body">
          <h2>{project.title}</h2>
          <p>{project.description}</p>
          <div class="tags">
            {project.tags.map(tag => <span class="tag">{tag}</span>)}
          </div>
        </div>
      </a>
    ))}
  </div>
</BaseLayout>

<style>
  .projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1.25rem;
  }

  .project-card {
    display: block;
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: 8px;
    overflow: hidden;
    text-decoration: none;
    color: inherit;
    transition: border-color 0.15s, transform 0.15s;
  }

  .project-card:hover {
    border-color: var(--color-accent);
    transform: translateY(-2px);
    text-decoration: none;
  }

  .card-image {
    aspect-ratio: 16/9;
    overflow: hidden;
    background: var(--color-border);
  }

  .card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .card-body {
    padding: 1.25rem;
  }

  .card-body h2 {
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
    color: var(--color-text);
  }

  .card-body p {
    font-size: 0.875rem;
    color: var(--color-muted);
    line-height: 1.55;
    margin-bottom: 0.75rem;
    max-width: 100%;
  }

  .tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.35rem;
  }
</style>
